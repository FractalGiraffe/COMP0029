%
% ur_thesis
%
% adapted from urcsthesis 2021
% Dan Gildea
%
\typeout{Document Style `ur_thesis' <19 April 2022>.}
%
% margin settings
%
\oddsidemargin 0.5in       %   Left margin on right-hand pages.
\evensidemargin 0in        %   Left margin on left-hand pages.
\textwidth 6in
\textheight 8.5in
\footskip 30pt
%
% paragraph settings
%
\parskip 4pt plus 1.5pt minus 1.5pt
\clubpenalty 500
\widowpenalty 500
\displaywidowpenalty=500
%
% more spacing between text and footnote
%
\def\footnoterule{\kern 2pt% extra space
\kern-3\p@\hrule width .4\columnwidth\kern 2.6\p@}
\footnotesep 10pt % more space between footnotes
\textwidth 5.75in

\topmargin -.5in
\headheight 12pt
\headsep 42pt
%
% get UR macros
%
\newlength{\chaptitlewidth}
\newlength{\chapnowidth}
%
% Space and a half.  Required because the committee designing the
% standards was confused.  Cannot be changed because it is a rule.
% (NGM)
%
\renewcommand{\baselinestretch}{1.5}
\newcommand{\singlespacethesis}{\def\baselinestretch{1}}
%
% year date format.  Required by new manual 1992 (NGM)
%
\def\today{\number\year}
%
% thesisby
%
\def\thesisby#1{\gdef\@thesisby{#1}}
\def\@thesisby{\vskip 2ex \LARGE{by}\vskip 2ex}
%
% thesissubmit
%
\def\thesissubmit#1{\gdef\@thesissubmit{#1}}
\def\@thesissubmit{\vskip 6ex \Large{BSc Computer Science}\\~\\~\\
\large{Submission Date: nth May 2017}\vskip}
%
% thesisdegree
%
\def\thesisdegree#1{\gdef\@thesisdegree{#1}}
% Changed from small caps in accord with new requirement from Dean
% Beach May 1994 (NGM)
\def\@thesisdegree{\large{Supervisor: Emiliano De Cristofaro}}
%
% thesissupervisor.  Changed 1992 (NGM)
%
\def\thesissupervisor#1{\gdef\@thesissupervisor{#1}}
\def\@thesissupervisor{UNKNOWN}
%
% redefine maketitle to use the empty page style
%
\def\maketitle{\par
 \begingroup
 \def\thefootnote{\fnsymbol{footnote}}
 \def\@makefnmark{\hbox
   to 0pt{$^{\@thefnmark}$\hss}}
 \newpage
   \global\@topnum\z@        % Prevents figures from going at top of page.
   \@maketitle\thispagestyle{empty}\@thanks
 \endgroup
 \setcounter{footnote}{0}
 \let\maketitle\relax
 \let\@maketitle\relax
 \gdef\@thanks{}\gdef\@author{}\gdef\@title{}\let\thanks\relax}
%
% redefine @maketitle to box the information appropriately
%   added parbox and hskip before it
%   added techrepdept and techrepnum
%   changed vertical space after date
%
\def\@maketitle{
  %
  % Turn off space and a half for title page (NGM)
  %
  \renewcommand{\baselinestretch}{1}
  \newpage
  \thispagestyle{empty}        % So we get no page number on the title page
  \null
  \vspace{0.25in}              % Vertical space above title.
  \begin{center}
    {\huge \@title \par}        % Title set in \huge size.
    {\large \@thesisby          % Author set in \large size
      \@author \par}
    {\large \@thesissubmit \@thesisdegree}
    \vfill
    \end{center}
    This report is submitted as part requirement for the BSc Degree in Computer Science at UCL. It is substantially the result of my own work except where explicitly indicated in the text. The report may be freely copied and distributed provided the source is explicitly acknowledged.
  \clearpage
}

%
% abstracthead
%
\def\abstracthead#1{\gdef\@abstracthead{#1}}
\def\@abstracthead{\thispagestyle{plain}
\chapter*{Abstract\@mkboth{ABSTRACT}{ABSTRACT}}}
% \addcontentsline{toc}{chapter}{Abstract}}

%
% use narrow text width for abstract to center under window
% vfil before abstract
%
\renewenvironment{abstract}{\@abstracthead}{\clearpage}
%
% forewordhead
%
\gdef\firstchapter{0}% Used to control when Arabic-style page number starts
\def\forewordhead{\@forewordhead}
\def\@forewordhead{\thispagestyle{plain}
  \clearpage % if you don't do this, the previous page will get roman numbers too
  \ifcase\firstchapter % only start Arabic numbers once (checked in \chapter, too)
    \gdef\firstchapter{1}  % need to do \gdef or it won't be visible later
  \fi
  \chapter*{Foreword\@mkboth{FOREWORD}{FOREWORD}}
  \addcontentsline{toc}{chapter}{Foreword}}
\newenvironment{foreword}{\@forewordhead}{\clearpage}
%
% count chapters and sections two levels deep
%
\setcounter{secnumdepth}{2}
%
% enter only chapters and top sections are in the table of contents
%
\setcounter{tocdepth}{1}
%
% redefine plain page to put page numbers towards outside.
% Changed 1992 to put numbers at top of page. (NGM)
%
\def\ps@plain{\let\@mkboth\@gobbletwo
\def\@oddhead{\rm\hfil\thepage}\def\@oddfoot{}%
\def\@evenhead{\rm\thepage\hfil}\def\@evenfoot{}}
\pagestyle{plain}
%
% chapter redefinitions
%
\def\@chapapp{Chapter}
\def\thechapter{\arabic{chapter}}
%
% \@makechapterhead {TEXT} : Makes the heading for the \chapter command.
%
\def\@makechapterhead#1{     % Heading for \chapter command
  \cleardoublepage
  \ifcase\firstchapter
    \def\firstchapter{1} % do not do this again
  \fi
  \vspace*{50pt}             % Space at top of text page.
  { \parindent 0pt \raggedright
    \par
    % Print chapter number and title.
    \huge\bf\thechapter\hspace{1em}%
\settowidth{\chapnowidth}{\huge\bf\thechapter\hspace{1em}}%
\setlength{\chaptitlewidth}{\textwidth}%
\addtolength{\chaptitlewidth}{-\chapnowidth}%
\parbox[t]{\chaptitlewidth}{\raggedright#1}
  \nobreak                   % TeX penalty to prevent page break.
  \vskip 40pt                % Space between title and text.
  }
}
%
% \tableofcontents gets the title changed
%
\def\tableofcontents{\@restonecolfalse\if@twocolumn\@restonecoltrue\onecolumn
  \fi\chapter*{Table of Contents\@mkboth{TABLE OF CONTENTS}{TABLE OF CONTENTS}}
  \@starttoc{toc}\if@restonecol\twocolumn\fi}

%
%
% \@makeschapterhead {TEXT} : Makes the heading for the \chapter* command.
%
\def\@makeschapterhead#1{    % Heading for \chapter* command
  \vspace*{50pt}             % Space at top of page.
  \begin{center}
  {\huge #1} % Print title.
  \end{center}
  \nobreak                   % TeX penalty to prevent page break.
  \vskip 40pt                % Space between title and text.
  }
%\list
%  {[\arabic{enumi}]}{\settowidth\labelwidth{[#1]}\leftmargin\labelwidth
%    \advance\leftmargin\labelsep
%    \usecounter{enumi}}
%    \def\newblock{\hskip .11em plus .33em minus .07em}
%    \sloppy\clubpenalty4000\widowpenalty4000
%    \sfcode`\.=1000\relax}

%
% \clearpage added to start of appendicies
%
\def\appendix{\par
  \setcounter{chapter}{0}
  \setcounter{section}{0}
  \setcounter{subsection}{0}
  \def\@chapapp{Appendix}
  \def\thechapter{\Alph{chapter}}}
